# üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Ozon Seller API

## üìã –ü–æ–ª—É—á–µ–Ω–∏–µ API —Ç–æ–∫–µ–Ω–æ–≤

### 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ Ozon Seller

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [Ozon Seller](https://seller.ozon.ru/)
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∏–ª–∏ –≤–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **"–ù–∞—Å—Ç—Ä–æ–π–∫–∏"** ‚Üí **"API"**

### 2. –°–æ–∑–¥–∞–Ω–∏–µ API –∫–ª—é—á–µ–π

1. –í —Ä–∞–∑–¥–µ–ª–µ API –Ω–∞–∂–º–∏—Ç–µ **"–°–æ–∑–¥–∞—Ç—å –∫–ª—é—á"**
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:
   - ‚úÖ **–¢–æ–≤–∞—Ä—ã** (Products) - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–æ–≤–∞—Ä–∞–º–∏
   - ‚úÖ **–ó–∞–∫–∞–∑—ã** (Orders) - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∑–∞–∫–∞–∑–∞–º–∏
   - ‚úÖ **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞** (Analytics) - –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
   - ‚úÖ **–°–∫–ª–∞–¥** (Warehouse) - –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Å—Ç–∞—Ç–∫–∞–º–∏

3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
   - **Client ID** (–Ω–∞–ø—Ä–∏–º–µ—Ä: `123456`)
   - **API Key** (–Ω–∞–ø—Ä–∏–º–µ—Ä: `abc123def456...`)

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ –ø—Ä–æ–µ–∫—Ç–µ

#### 3.1 –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ .env —Ñ–∞–π–ª

```bash
# /var/www/boss-ai/.env
OZON_CLIENT_ID=–≤–∞—à_client_id
OZON_API_KEY=–≤–∞—à_api_key
OZON_MOCK_MODE=false  # true –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑ API
```

#### 3.2 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ ecosystem.config.js

```javascript
// ozon-manager env
OZON_CLIENT_ID: "–≤–∞—à_client_id",
OZON_API_KEY: "–≤–∞—à_api_key",
OZON_MOCK_MODE: "false"
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API

### 1. Mock —Ä–µ–∂–∏–º (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

```bash
# –í–∫–ª—é—á–∏—Ç—å mock —Ä–µ–∂–∏–º
OZON_MOCK_MODE=true

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å
pm2 restart boss-ai-ozon-manager
```

**Mock —Ä–µ–∂–∏–º –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- –ú–∞–≥–∞–∑–∏–Ω—ã: "–¢–µ—Å—Ç–æ–≤—ã–π –º–∞–≥–∞–∑–∏–Ω"
- –¢–æ–≤–∞—Ä—ã: "–¢–µ—Å—Ç–æ–≤—ã–π —Ç–æ–≤–∞—Ä" (1000‚ÇΩ, 10 —à—Ç)
- –ó–∞–∫–∞–∑—ã: "mock-order-1" (1500‚ÇΩ, –¥–æ—Å—Ç–∞–≤–ª–µ–Ω)

### 2. –†–µ–∞–ª—å–Ω–æ–µ API —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –û—Ç–∫–ª—é—á–∏—Ç—å mock —Ä–µ–∂–∏–º
OZON_MOCK_MODE=false

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å
pm2 restart boss-ai-ozon-manager

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
pm2 logs boss-ai-ozon-manager --lines 20
```

**–û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏:**
```
‚úÖ API –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ: —Å—Ç–∞—Ç—É—Å 200
‚úÖ –°–æ–∑–¥–∞–Ω OzonAPIClient –¥–ª—è Client-Id: 12345678...
```

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Ozon API

### –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **–û—Å–Ω–æ–≤–Ω–∞—è:** https://docs.ozon.ru/
- **Seller API:** https://docs.ozon.ru/api/seller/
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** https://docs.ozon.ru/api/seller/#section/Avtorizaciya

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| `POST` | `/v3/product/list` | –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ |
| `POST` | `/v3/product/info` | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–æ–≤–∞—Ä–µ |
| `POST` | `/v3/product/update` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ |
| `POST` | `/v3/order/list` | –°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤ |
| `POST` | `/v3/order/info` | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–∫–∞–∑–µ |

### –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

#### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤
```javascript
const response = await ozonClient.makeRequest('POST', '/v3/product/list', {
  filter: {},
  limit: 100
});
```

#### –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤
```javascript
const response = await ozonClient.makeRequest('POST', '/v3/order/list', {
  filter: {
    since: '2024-01-01T00:00:00Z',
    to: '2024-12-31T23:59:59Z'
  },
  limit: 100
});
```

---

## ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –ª–∏–º–∏—Ç—ã

### Rate Limiting
- **–õ–∏–º–∏—Ç:** 50 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É
- **–û–∫–Ω–æ:** 1 —Å–µ–∫—É–Ω–¥–∞
- **–û–±—Ä–∞–±–æ—Ç–∫–∞:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏

### –ö–≤–æ—Ç—ã
- **–¢–æ–≤–∞—Ä—ã:** –¥–æ 1000 —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞ –∑–∞–ø—Ä–æ—Å
- **–ó–∞–∫–∞–∑—ã:** –¥–æ 100 –∑–∞–∫–∞–∑–æ–≤ –∑–∞ –∑–∞–ø—Ä–æ—Å
- **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞:** –¥–æ 30 –¥–Ω–µ–π –¥–∞–Ω–Ω—ã—Ö

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
```javascript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤ OzonAPIClient
if (response.status === 429) {
  // Rate limit exceeded - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞
  await this.rateLimiter.waitIfNeeded();
}
```

---

## üîç –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
pm2 show boss-ai-ozon-manager | grep OZON
```

### 2. –õ–æ–≥–∏ API –∑–∞–ø—Ä–æ—Å–æ–≤
```bash
# –°–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
pm2 logs boss-ai-ozon-manager --lines 50

# –ò—Å–∫–∞—Ç—å –æ—à–∏–±–∫–∏ API
pm2 logs boss-ai-ozon-manager | grep -i "error\|fail\|401\|403"
```

### 3. –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å health check
curl http://localhost:4200/api/health

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏
curl http://localhost:3000/api/ozon/stores
```

### 4. –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

| –û—à–∏–±–∫–∞ | –ü—Ä–∏—á–∏–Ω–∞ | –†–µ—à–µ–Ω–∏–µ |
|--------|---------|---------|
| `401 Unauthorized` | –ù–µ–≤–µ—Ä–Ω—ã–π API –∫–ª—é—á | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å OZON_API_KEY |
| `403 Forbidden` | –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ | –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–∞–≤–∞ –≤ Ozon Seller |
| `429 Too Many Requests` | –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç | –ü–æ–¥–æ–∂–¥–∞—Ç—å –∏–ª–∏ —É–º–µ–Ω—å—à–∏—Ç—å —á–∞—Å—Ç–æ—Ç—É |
| `500 Internal Server Error` | –û—à–∏–±–∫–∞ Ozon API | –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –∑–∞–ø—Ä–æ—Å –ø–æ–∑–∂–µ |

---

## üöÄ –ì–æ—Ç–æ–≤—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (Mock)
```env
OZON_MOCK_MODE=true
OZON_CLIENT_ID=mock-client
OZON_API_KEY=mock-key
```

### –î–ª—è production
```env
OZON_MOCK_MODE=false
OZON_CLIENT_ID=—Ä–µ–∞–ª—å–Ω—ã–π_client_id
OZON_API_KEY=—Ä–µ–∞–ª—å–Ω—ã–π_api_key
```

### –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º API
```env
OZON_MOCK_MODE=false
OZON_CLIENT_ID=—Ç–µ—Å—Ç–æ–≤—ã–π_client_id
OZON_API_KEY=—Ç–µ—Å—Ç–æ–≤—ã–π_api_key
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- **Ozon Seller Support:** https://seller.ozon.ru/support
- **API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** https://docs.ozon.ru/
- **Telegram –ø–æ–¥–¥–µ—Ä–∂–∫–∞:** @OzonSellerSupport

---

**üí° –°–æ–≤–µ—Ç:** –ù–∞—á–Ω–∏—Ç–µ —Å mock —Ä–µ–∂–∏–º–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –∑–∞—Ç–µ–º –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–µ API –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
